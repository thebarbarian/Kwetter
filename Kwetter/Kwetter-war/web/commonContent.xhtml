<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"

      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <body>
        <ui:composition>


            <div class="row">
                <div class="col-lg-8">
                    <img class="img-responsive img-rounded" src="http://placekitten.com/900/600"/><!-- take out img-rounded if you don't want the rounded corners on the image -->
                </div>
                <div class="col-lg-4">
                    <div id="content">
                        <div class="panel panel-primary">
                            <div class="panel-heading"><h2> Tweets</h2></div>
                            <div class="panel-body">
                                <div id="tweetMon" class="list-group">                                    
                                    <ui:insert name="tweetMonitor">      
                                        <c:forEach items="#{kwetterController.getTweetsFromUser(kwetterController.getSelectedUser())}" var="tweet">
                                            <div class="list-group-item-heading">
                                                <h4>#{tweet.tweet}</h4>
                                            </div>
                                            <div class="list-group-item-text">
                                                #{kwetterController.getSelectedUser().name} at #{tweet.datum} from #{tweet.vanaf}
                                            </div>
                                        </c:forEach>
                                    </ui:insert>                 
                                </div> 
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <hr />

            <div class="row">
                <div class="col-lg-12">
                    <div class="well text-center">
                        <ui:insert name="body">Hier komt te staan waarom het zo geweldig is. </ui:insert>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-4">                           
                    <ui:insert name="Login">
                        <h:form id="Login">
                            <h:outputText value="Username:"/>
                            <h:messages style="color:red" />
                            <h:inputText  value ="#{userController.user.name}" styleClass="myInput" required="true"/>
                            <BR/><h:outputText value="Password:"/>
                            <h:inputSecret value="#{userController.user.password}" styleClass="myInput" required="true"/>
                            <h:commandButton action="#{userController.doCreateUser(username)}" value="Login" />
                        </h:form>
                    </ui:insert>                    
                </div>
                <div class="col-lg-4">

                    <div id="totalsWindow>">
                        <p>
                            <ui:insert name="allInfo">
                                <h:form>
                                    <h:link outcome="index.xhtml">#{kwetterController.getNrOfFollowing(kwetterController.find(1))} following</h:link> <BR/>                       
                                    <h:link outcome="index.xhtml">#{kwetterController.getNrOfFollowedBy(kwetterController.find(1))} followers</h:link>                        <BR/>
                                    <h:link outcome="index.xhtml">Tweets : #{kwetterController.allTweetsCount}</h:link>                                                <BR/>
                                </h:form>
                            </ui:insert>         
                        </p>
                    </div>

                    <div id="FollowingWindow>">
                        <p>
                            <ui:insert name="FollowingWin">
                                <h:dataTable border="1" value="#{kwetterController.getAllUsersFollowedBy(kwetterController.getSelectedUser())}" var="item">
                                    <h:column>
                                        <h:form>
                                            <h:inputHidden value="#{item}"></h:inputHidden>
                                            <h:commandLink id="selectedUser" action="#{kwetterController.setSelectedUser(item)}" value="#{item.name}">

                                            </h:commandLink>
                                        </h:form>
                                    </h:column>                                                      
                                </h:dataTable>   
                            </ui:insert>         
                        </p>
                    </div>
                </div>
                <div class="col-lg-4">
                    <h2> Bio </h2>
                    <ui:insert name="bioWindow">
                        <h:outputLabel>Name : </h:outputLabel><h:outputLabel>#{kwetterController.find(2).name}</h:outputLabel><BR/>            
                        <h:outputLabel>Web : </h:outputLabel><h:outputLabel>#{kwetterController.find(2).web}</h:outputLabel><BR/>
                        <h:outputLabel>Bio : </h:outputLabel><h:outputLabel>#{kwetterController.find(2).bio}</h:outputLabel><BR/>
                    </ui:insert>
                </div>
            </div>

        </ui:composition>
    </body>
</html>